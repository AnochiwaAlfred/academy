{% extends 'dashboard/base.html' %}
{% load static %}

{% block content %}
<head>
  <style>
    .svg-class svg{
      width: 30px;
      height: 30px;
    }
    .svg-class{
      height: fit-content;
      width: fit-content;
      padding: 15px;
      border-radius: 50px;
      margin: 12px 0px 12px 10px;
    }
    .svg-one{
      background-color: rgb(250, 226, 226);
    }
    .svg-two{
      background-color: rgb(226, 228, 250);
    }
    .svg-three{
      background-color: rgb(226, 250, 241);
    }
    .svg-four{
      background-color: rgb(249, 226, 250);
    }
    .transition, .transition2{
      cursor: pointer;
      transition: all 0.5s ease;
    }
    .transition:hover{
      transform: scale(1.03);
      transition: all 0.5s ease;
    }
    .transition2:hover{
      transform: scale(1.007);
      transition: all 0.5s ease;
    }
    .user-image{
      height: 250px;
      width: 200px;
      padding: 0px;
      margin: 5px;
      border: 1px solid red;
      background: url({{studentz.image.url}}) center no-repeat;
    }

  </style>
</head>



<div class="h4 mt-4">Admin Dashboard</div>
<nav class="breadcrumb">
    <a class="breadcrumb-item" href="../../../">Home</a>
    <span class="breadcrumb-item active" aria-current="page">Admin</span>
</nav>

<div class="user-image" style="background: url({{studentz.image.url}}) center no-repeat; background-size:cover;">{{ studentz.firstName }}</div>
<img src="{{ studentz.image.url }}" alt="{{studentz.firstName}}">
<a href="{{ studentz.image.path }}" target="_blank">{{ studentz.firstName }}</a>
<a href="{{ studentz.image.url }}" target="_blank">{{ studentz.firstName }}</a>

<div class="row">
<div class="row animate__animated animate__slideInUp">
  <div class="col-3 scale-transition">
    <div class="card transition flex-row p-2">
      <div class="svg-one svg-class">
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" style="fill: rgb(238, 30, 30);" class="bi bi-person-fill" viewBox="0 0 16 16">
          <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
        </svg>
      </div>
      <div class="card-body">
          <p class="card-text text-end">Students</p>
        <h3 class="card-title text-end">{{ studentsCount }}</h3>
      </div>
    </div>
  </div>

  <div class="col-3 scale-transition">
    <div class="card transition flex-row p-2">
      <div class="svg-two svg-class">
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" style="fill: rgb(30, 33, 238);" class="bi bi-person-fill" viewBox="0 0 16 16">
          <path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/>
        </svg>
      </div>
      <div class="card-body">
          <p class="card-text text-end">Lecturers</p>
        <h3 class="card-title text-end">{{ lecturersCount }}</h3>
      </div>
    </div>
  </div>

  <div class="col-3 scale-transition">
    <div class="card transition flex-row p-2">
      <div class="svg-three svg-class">
        <svg style="fill: rgb(0, 151, 106);" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M320 128C328.8 128 336 135.2 336 144V160H352C360.8 160 368 167.2 368 176C368 184.8 360.8 192 352 192H320C311.2 192 304 184.8 304 176V144C304 135.2 311.2 128 320 128zM476.8 98.06L602.4 125.1C624.4 130.9 640 150.3 640 172.8V464C640 490.5 618.5 512 592 512H48C21.49 512 0 490.5 0 464V172.8C0 150.3 15.63 130.9 37.59 125.1L163.2 98.06L302.2 5.374C312.1-1.791 327-1.791 337.8 5.374L476.8 98.06zM256 512H384V416C384 380.7 355.3 352 320 352C284.7 352 256 380.7 256 416V512zM96 192C87.16 192 80 199.2 80 208V272C80 280.8 87.16 288 96 288H128C136.8 288 144 280.8 144 272V208C144 199.2 136.8 192 128 192H96zM496 272C496 280.8 503.2 288 512 288H544C552.8 288 560 280.8 560 272V208C560 199.2 552.8 192 544 192H512C503.2 192 496 199.2 496 208V272zM96 320C87.16 320 80 327.2 80 336V400C80 408.8 87.16 416 96 416H128C136.8 416 144 408.8 144 400V336C144 327.2 136.8 320 128 320H96zM496 400C496 408.8 503.2 416 512 416H544C552.8 416 560 408.8 560 400V336C560 327.2 552.8 320 544 320H512C503.2 320 496 327.2 496 336V400zM320 88C271.4 88 232 127.4 232 176C232 224.6 271.4 264 320 264C368.6 264 408 224.6 408 176C408 127.4 368.6 88 320 88z"/></svg>
      </div>
      <div class="card-body">
          <p class="card-text text-end">Departments</p>
        <h3 class="card-title text-end">{{departmentsCount }}</h3>
      </div>
    </div>
  </div>

  <div class="col-3 scale-transition">
    <div class="card transition flex-row p-2">
      <div class="svg-four svg-class">
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" style="fill: rgb(196, 30, 238);" class="bi bi-person-fill" viewBox="0 0 16 16">
           <path fill-rule="evenodd" d="M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022zM6 8.694 1 10.36V15h5V8.694zM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5V15z"/>
           <path d="M2 11h1v1H2v-1zm2 0h1v1H4v-1zm-2 2h1v1H2v-1zm2 0h1v1H4v-1zm4-4h1v1H8V9zm2 0h1v1h-1V9zm-2 2h1v1H8v-1zm2 0h1v1h-1v-1zm2-2h1v1h-1V9zm0 2h1v1h-1v-1zM8 7h1v1H8V7zm2 0h1v1h-1V7zm2 0h1v1h-1V7zM8 5h1v1H8V5zm2 0h1v1h-1V5zm2 0h1v1h-1V5zm0-2h1v1h-1V3z"/>
        </svg>
      </div>
      <div class="card-body">
          <p class="card-text text-end">Faculties</p>
        <h3 class="card-title text-end">{{ facultiesCount }}</h3>
      </div>
    </div>
  </div>
</div>
</div>

<div class="row mt-4 justify-content-start animate__animated animate__slideInUp">
  <div class="row">
    <div class="col-4">
      <div class="card transition">
        <div class="card-body">
          <h3 class="card-title h4">Students</h3>
          <p class="card-text">Text</p>
        </div>
      </div>
    </div>
    <div class="col-4">
      <div class="card transition">
        <div class="card-body">
          <h3 class="card-title h4">Attendance</h3>
          <p class="card-text">Text</p>
        </div>
      </div>
    </div>
    <div class="col-4">
      <div class="card transition">
        <div class="card-body">
          <h3 class="card-title h4">Notifications</h3>
          <p class="card-text">Text</p>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row animate__animated animate__slideInUp mt-4">
  <div class="row">
    <div class="col-12">
      <div class="card transition2">
        <div class="card-body">
          <h3 class="card-title h4">My Students</h3>

          <form action="" method="post" class="row mt-4 mb-3">
            {% csrf_token %}
            <div class="mb-3 col-3">
              <input type="text" class="form-control" placeholder="Search by Username..." name="search-by-username" id="search-by-username" aria-describedby="helpId" placeholder="">
            </div>
            <div class="mb-3 col-4">
              <input type="text" class="form-control" placeholder="Search by Name..." name="search-by-name" id="search-by-name" aria-describedby="helpId" placeholder="">
            </div>
            <div class="mb-3 col-4">
              <input type="text" class="form-control" placeholder="Search by Department..." name="search-by-department" id="search-by-department" aria-describedby="helpId" placeholder="">
            </div>
            <div class="col-1">
              <button type="submit" class="btn btn-warning ps-3 pe-3">Search</button>
            </div>
          </form>

          <div class="table-responsive">
            <table class="table table-striped table-hover	 table-borderless align-middle">
              <thead class="table-dark">
                <tr>
                  <th>Matric Number</th>
                  <th>Username</th>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Gender</th>
                  <th>Date of Birth</th>
                  <th>Phone</th>
                </tr>
                </thead>
                <tbody class="table-group-divider">
                {% for student in studentsList%}
                  <tr>
                    <td scope="row">{{ student.regNumber }}</td>
                    <td>{{ student.username }}</td>
                    <td>{{ student.lastName }} {{ student.firstName }}</td>
                    <td>{{ student.email }}</td>
                    <td>{{ student.gender }}</td>
                    <td>{{ student.dateOfBirth }}</td>
                    <td>{{ student.phone }}</td>
                  </tr>
                {% endfor %}
                </tbody>
            </table>

            <div class="pagination  text-center float-end">
              <span class="step-links">
              {% if studentsList.has_previous %}
              <a class="text-decoration-none ms-1 me-1" href="?page=1">&laquo; First</a>
              <a class="text-decoration-none ms-1 me-1" href="?page={{ studentsList.previous_page_number }}">Previous</a>
              {% endif %}
              <span class="current ms-2 me-2">
              Page {{ studentsList.number }} of {{ studentsList.paginator.num_pages }}
              </span>
              {% if studentsList.has_next %}
              <a class="text-decoration-none ms-1 me-1" href="?page={{ studentsList.next_page_number }}">Next</a>
              <a class="text-decoration-none ms-1 me-1" href="?page={{ studentsList.paginator.num_pages }}">Last &raquo;</a>
              {% endif %}
            </span>
          </div>
          </div>
    
        </div>
      </div>
    </div>
  </div>
</div>



{% endblock %}